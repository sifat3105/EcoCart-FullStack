{% extends 'base/base2.html' %}
{% block title %}Shipping Update{% endblock title %}
{% block section %}
<div class="bg0 p-t-75 p-b-85">
    <div class="container">
        <div class="row">
            <div class="col-lg-12 col-xl-12 m-lr-auto m-b-50">
                <div class="bor10 p-lr-40 p-t-30 p-b-40 dynamic-box" style="background: linear-gradient(135deg, #f9f9f9, #ffffff); border-radius: 12px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1); animation: fadeInLeft 1s ease;">
                    <h4 class="mtext-109 cl2 p-b-30" style="font-size: 24px; font-weight: 600; color: #333;">
                        <i class="fas fa-truck" style="margin-right: 10px;"></i> Add Shipping Update
                    </h4>

                    <!-- Order Selection Dropdown -->
                    <div class="mb-4">
                        <label for="order_id" class="mtext-109 cl2 p-b-10" style="font-size: 16px; font-weight: 600; color: #333;">
                            <i class="fas fa-list" style="margin-right: 8px;"></i> Select Order
                        </label>
                        <select name="order_id" id="order_id" class="stext-110 cl2 size-119 bg8 bor13 hov-btn3 p-lr-15 trans-04 pointer dynamic-button" style="width: 100%; padding: 10px; border-radius: 8px; border: 1px solid #e0e0e0;" onchange="location = this.value;">
                            <option value="">Select an order</option>
                            {% for order in orders %}
                                <option value="{% url 'add_shipping_update' order.order_id %}">Order #{{ order.order_id }}</option>
                            {% endfor %}
                        </select>
                    </div>

                    <!-- Shipping Update Form -->
                    {% if selected_order %}
                        <form method="POST" action="{% url 'add_shipping_update' selected_order.order_id %}">
                            {% csrf_token %}  <!-- Add CSRF token for security -->

                            <!-- Status Field -->
                            <div class="mb-4">
                                <label for="status" class="mtext-109 cl2 p-b-10" style="font-size: 16px; font-weight: 600; color: #333;">
                                    <i class="fas fa-info-circle" style="margin-right: 8px;"></i> Status
                                </label>
                                <select name="status" id="status" class="stext-110 cl2 size-119 bg8 bor13 hov-btn3 p-lr-15 trans-04 pointer dynamic-button" style="width: 100%; padding: 10px; border-radius: 8px; border: 1px solid #e0e0e0;" required>
                                    <option value="Processing">Processing</option>
                                    <option value="Shipped">Shipped</option>
                                    <option value="Picked up">Picked up</option>
                                    <option value="In Transit">In Transit</option>
                                    <option value="Out for Delivery">Out for Delivery</option>
                                    <option value="Delivered">Delivered</option>
                                    <option value="Delayed">Delayed</option>
                                    <option value="Returned">Returned</option>
                                    <option value="Cancelled">Cancelled</option>
                                </select>
                            </div>

                            <!-- Description Field -->
                            <div class="mb-4">
                                <label for="description" class="mtext-109 cl2 p-b-10" style="font-size: 16px; font-weight: 600; color: #333;">
                                    <i class="fas fa-align-left" style="margin-right: 8px;"></i> Description (Optional)
                                </label>
                                <textarea name="description" id="description" class="stext-110 cl2 size-119 bg8 bor13 hov-btn3 p-lr-15 trans-04 pointer dynamic-button" style="width: 100%; padding: 10px; border-radius: 8px; border: 1px solid #e0e0e0; resize: vertical;" rows="3"></textarea>
                            </div>

                            <!-- Submit Button -->
                            <div class="text-center">
                                <button type="submit" class="flex-c-m stext-101 cl2 size-119 bg8 bor13 hov-btn3 p-lr-15 trans-04 pointer dynamic-button" style="background: linear-gradient(135deg, #4CAF50, #45a049); font-size: 14px; font-weight: 600; padding: 10px 20px;">
                                    <i class="fas fa-plus" style="margin-right: 8px;"></i> Add Update
                                </button>
                            </div>
                        </form>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock section %}